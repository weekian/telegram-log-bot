{"version":3,"sources":["../src/index.js"],"names":["process","env","PORT","NODE_ENV","TELEGRAM_TOKEN","DATABASE_URL","database","server","Server","bot","Bot","Telegraf","addedToGroupEventHandler","helpCommand","startCommand","checkinCommand","checkoutCommand","manualCommand","allCommand","skipCommand","leaderboardCommand","start"],"mappings":";;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAbA;AAeA;AAAA;AAAA,0BAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,yBAC4DA,OAAO,CAACC,GADpE,EACWC,IADX,gBACWA,IADX,EACiBC,QADjB,gBACiBA,QADjB,EAC2BC,cAD3B,gBAC2BA,cAD3B,EAC2CC,YAD3C,gBAC2CA,YAD3C;AAAA;AAAA,iBAG0B,iBAASA,YAAT,EAAuBF,QAAvB,CAH1B;;AAAA;AAGSG,UAAAA,QAHT;AAISC,UAAAA,MAJT,GAIkB,IAAIC,eAAJ,CAAWN,IAAX,EAAiBC,QAAjB,CAJlB;AAKSM,UAAAA,GALT,GAKe,IAAIC,YAAJ,CACRC,iBADQ,EAERP,cAFQ,EAGRD,QAHQ,EAIRG,QAJQ,EAKRM,qBALQ,EAMR,CAACC,aAAD,EAAcC,cAAd,CANQ,EAOR,CACIC,gBADJ,EAEIC,iBAFJ,EAGIC,eAHJ,EAIIC,YAJJ,EAKIC,aALJ,CAPQ,EAcR,CAACC,oBAAD,CAdQ,CALf;AAAA;AAAA,iBAsBSX,GAAG,CAACY,KAAJ,EAtBT;;AAAA;AAuBGd,UAAAA,MAAM,CAACc,KAAP;;AAvBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD","sourcesContent":["// Entrypoint to starting bot application\nimport Telegraf from \"telegraf\";\nimport Server from \"./server\";\nimport Bot from \"./bot\";\nimport Database from \"./db\";\nimport startCommand from \"./commands/start\";\nimport checkinCommand from \"./commands/checkin\";\nimport checkoutCommand from \"./commands/checkout\";\nimport manualCommand from \"./commands/manual\";\nimport allCommand from \"./commands/all\";\nimport skipCommand from \"./commands/skip\";\nimport leaderboardCommand from \"./commands/leaderboard\";\nimport helpCommand from \"./commands/help\";\nimport addedToGroupEventHandler from \"./commands/groupHandler\";\n\n(async () => {\n    const { PORT, NODE_ENV, TELEGRAM_TOKEN, DATABASE_URL } = process.env;\n\n    const database = await Database(DATABASE_URL, NODE_ENV);\n    const server = new Server(PORT, NODE_ENV);\n    const bot = new Bot(\n        Telegraf,\n        TELEGRAM_TOKEN,\n        NODE_ENV,\n        database,\n        addedToGroupEventHandler,\n        [helpCommand, startCommand],\n        [\n            checkinCommand,\n            checkoutCommand,\n            manualCommand,\n            allCommand,\n            skipCommand,\n        ],\n        [leaderboardCommand]\n    );\n\n    await bot.start();\n    server.start();\n})();\n"],"file":"index.js"}